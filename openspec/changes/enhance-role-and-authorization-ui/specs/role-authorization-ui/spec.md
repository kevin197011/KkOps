## ADDED Requirements

### Requirement: 角色管理员标识展示

角色列表 SHALL 显示每个角色是否为管理员角色，便于用户快速识别。

#### Scenario: 角色列表展示管理员标识
- **WHEN** 用户访问角色管理页面
- **THEN** 角色列表包含"管理员"列
- **AND** 管理员角色显示红色 Tag "管理员"
- **AND** 非管理员角色显示 "-"

---

### Requirement: 创建角色时设置管理员

用户 SHALL 能够在创建角色时指定该角色是否为管理员角色。

#### Scenario: 创建管理员角色
- **WHEN** 用户点击新增角色并勾选"设为管理员角色"
- **THEN** 创建的角色 is_admin 字段为 true
- **AND** 角色列表中显示管理员标识

#### Scenario: 创建普通角色
- **WHEN** 用户点击新增角色且不勾选"设为管理员角色"
- **THEN** 创建的角色 is_admin 字段为 false

---

### Requirement: 编辑角色时修改管理员设置

用户 SHALL 能够在编辑角色时修改其管理员状态。

#### Scenario: 将普通角色升级为管理员
- **WHEN** 用户编辑普通角色并勾选"设为管理员角色"后保存
- **THEN** 角色的 is_admin 字段更新为 true
- **AND** 角色列表刷新后显示管理员标识

#### Scenario: 将管理员角色降级为普通角色
- **WHEN** 用户编辑管理员角色并取消勾选"设为管理员角色"后保存
- **THEN** 角色的 is_admin 字段更新为 false
- **AND** 角色列表刷新后不显示管理员标识

---

### Requirement: 资产授权按项目批量选择

资产授权弹窗 SHALL 支持按项目批量选择资产进行授权。

#### Scenario: 按项目批量授权
- **WHEN** 用户在授权弹窗选择一个项目并点击"添加到授权"
- **THEN** 该项目下的所有资产自动添加到已授权列表
- **AND** 不影响已有的授权

#### Scenario: 项目下无资产
- **WHEN** 用户选择一个没有资产的项目并点击"添加到授权"
- **THEN** 显示提示"该项目下没有资产"
- **AND** 已授权列表不变

---

### Requirement: 资产授权按环境批量选择

资产授权弹窗 SHALL 支持按环境批量选择资产进行授权。

#### Scenario: 按环境批量授权
- **WHEN** 用户在授权弹窗选择一个环境并点击"添加到授权"
- **THEN** 该环境下的所有资产自动添加到已授权列表

#### Scenario: 同时选择项目和环境
- **WHEN** 用户选择项目和环境后点击"添加到授权"
- **THEN** 同时满足项目和环境条件的资产添加到已授权列表

---

### Requirement: 保持单个资产授权能力

资产授权弹窗 SHALL 保持使用 Transfer 组件单独选择资产的能力。

#### Scenario: 单独选择资产授权
- **WHEN** 用户不选择项目/环境，直接在 Transfer 中选择单个资产
- **THEN** 该资产添加到已授权列表

#### Scenario: 批量添加后微调
- **WHEN** 用户按项目批量添加后，在 Transfer 中移除部分资产
- **THEN** 被移除的资产从已授权列表中删除
- **AND** 其他资产保持授权状态
